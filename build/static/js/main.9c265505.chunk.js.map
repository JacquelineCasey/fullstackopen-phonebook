{"version":3,"sources":["components/Entry.js","components/Entries.js","components/InputField.js","components/Filter.js","components/Form.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Entry","person","deleteCallback","name","number","onClick","Entries","persons","deletePerson","map","id","InputField","label","value","onChange","Filter","Form","onNameChange","onNumberChange","onSubmit","type","Notification","notification","text","notificationStyle","color","isWarning","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","PhonebookService","getAll","axios","get","then","response","data","create","newPerson","console","log","post","remove","delete","update","updatedPerson","put","App","React","useState","newName","setNewName","newNumber","setNewNumber","filterTarget","setFilterTarget","timer","undefined","notificationState","setNotificationState","addNotification","window","clearTimeout","setTimeout","setPersons","useEffect","returnedData","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","matchingPerson","find","returnedPerson","concat","confirm","p","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c265505.chunk.js","sourcesContent":["\nimport React from 'react';\n\n\nconst Entry = ({person, deleteCallback}) =>\n    <div>\n        {person.name}: {person.number} <button onClick={deleteCallback}> \n            delete\n        </button>\n    </div>;\n\n\nexport default Entry;\n","\nimport React from 'react';\nimport Entry from './Entry';\n\n\nconst Entries = ({persons, deletePerson}) => \n    <>\n        {persons.map((person) => <Entry \n            key={person.id} \n            person={person} \n            deleteCallback={() => deletePerson(person)}\n        />)}\n    </>;\n\n\nexport default Entries;\n","\nimport React from 'react';\n\n\nconst InputField = ({label, value, onChange}) => \n    <div>\n        {label}: <input value={value} onChange={onChange}/>\n    </div>;\n\n\nexport default InputField;\n","\nimport React from 'react';\nimport InputField from './InputField';\n\n\nconst Filter = ({value, onChange}) => \n    <InputField label='filter shown with' value={value} onChange={onChange}/>;\n\n    \nexport default Filter;\n","\nimport React from 'react';\nimport InputField from './InputField';\n\n\nconst Form = ({name, number, onNameChange, onNumberChange, onSubmit}) => \n    <form>\n        <InputField label='name' value={name} onChange={onNameChange}/>\n        <InputField label='number' value={number} onChange={onNumberChange}/>\n        <div>\n            <button type='submit' onClick={onSubmit}>add</button>\n        </div>\n    </form>;\n\n\nexport default Form;\n","\nimport React from \"react\";\n\n\nconst Notification = ({notification}) => {\n    if (notification.text === null)\n        return null;\n\n    const notificationStyle =  {\n        color: notification.isWarning ? 'red' : 'green', // Conditional coloring!\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    };\n    \n    return (\n        <div style={notificationStyle}>\n            {notification.text}\n        </div>\n    );\n}\n\n\nexport default Notification;\n","\nimport axios from 'axios';\n\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data);\n};\n\nconst create = (newPerson) => {\n    console.log(newPerson);\n    return axios.post(baseUrl, newPerson).then(response => response.data);\n};\n\nconst remove = (person) => {\n    return axios.delete(`${baseUrl}/${person.id}`).then(response => {}); // No data after delete.\n};\n\nconst update = (id, updatedPerson) => {\n    console.log(id, updatedPerson);\n    return axios.put(`${baseUrl}/${id}`, updatedPerson).then(response => response.data);\n};\n\n\nconst PhonebookService = {getAll, create, remove, update};\nexport default PhonebookService;\n","\nimport React from 'react';\n\nimport Entries from './components/Entries';\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Notification from './components/Notification';\nimport PhonebookService from './services/phonebook';\n\n\nconst App = () => {\n    /* Text Field State and Handlers. */\n    const [newName, setNewName] = React.useState('');\n    const [newNumber, setNewNumber] = React.useState('');\n    const [filterTarget, setFilterTarget] = React.useState('');\n\n    const handleNameFieldChange = (event) => setNewName(event.target.value);\n    const handleNumberFieldChange = (event) => setNewNumber(event.target.value);\n    const handleFilterFieldChange = (event) => setFilterTarget(event.target.value);\n\n    /* Notification State and Handler */\n    const [notificationState, setNotificationState] = React.useState({text: null, isWarning: false, timer: undefined});\n\n    const addNotification = (text, isWarning=false) => {\n        /* Ensure that old timers don't make this timer super short. */\n        window.clearTimeout(notificationState.timer);\n        const timer = setTimeout(() => {\n            setNotificationState({text: null, isWarning});\n        }, 5000);\n        setNotificationState({text, isWarning, timer});\n    };\n\n    /* Phonebook Data */\n    const [persons, setPersons] = React.useState([]);\n\n    /* Get Initial Phonebook Data */\n    React.useEffect(() => {\n        PhonebookService.getAll().then(returnedData => {\n            setPersons(returnedData);\n        });\n    }, []); // []: Only fire the effect once.\n\n    /* Update Phonebook Data */\n    const handleFormSubmission = (event) => {\n        event.preventDefault();\n\n        const newPerson = {name: newName, number: newNumber};\n        const matchingPerson = persons.find(person => person.name === newPerson.name); // Probably undefined\n        \n        /* Check if newPerson is unique. */\n        if (matchingPerson === undefined) {\n            PhonebookService.create(newPerson).then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson));\n                addNotification(`Added ${newPerson.name}`);\n            });\n        }\n        /* If not, offer to update. */\n        else if(window.confirm(`${matchingPerson.name} is already in the the ` \n                + 'phonebook. Would you like to update their info?')) {\n            PhonebookService.update(matchingPerson.id, newPerson)\n                .then(returnedPerson => {\n                    setPersons(persons.map(p => p.id === returnedPerson.id ? returnedPerson : p));\n                    addNotification(`Updated ${newPerson.name}`);\n                })\n                .catch(() => {\n                    addNotification(`Entry on ${matchingPerson.name} had already been deleted from the server.`, true); // true = warning.\n                    setPersons(persons.filter(p => p.id !== matchingPerson.id));\n                })\n        }\n        \n        setNewName('');\n        setNewNumber('');\n    };\n\n    /* Delete Phonebook Data */\n    const deletePerson = person => {\n        if (!window.confirm(`Delete entry on ${person.name}?`))\n            return;\n        \n        PhonebookService.remove(person)\n            .then(() => {\n                setPersons(persons.filter(p => p.id !== person.id));\n                addNotification(`Deleted ${person.name}`);\n            })\n            .catch(() => {\n                addNotification(`Entry on ${person.name} had already been deleted from the server.`, true); // true = warning\n                setPersons(persons.filter(p => p.id !== person.id));\n            });\n    };\n\n    /* Only Show Entries that match the filter target. */\n    const personsToShow = persons.filter((person) => \n        person.name.toLowerCase().includes(filterTarget.toLowerCase())\n    );\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification notification={notificationState}/>\n            <Filter value={filterTarget} onChange={handleFilterFieldChange}/>\n\n            <h2>Add a new Entry</h2>\n            <Form\n                name={newName}\n                number={newNumber}\n                onNameChange={handleNameFieldChange}\n                onNumberChange={handleNumberFieldChange}\n                onSubmit={handleFormSubmission}\n            />\n\n            <h2>Numbers</h2>\n            <Entries persons={personsToShow} deletePerson={deletePerson}/>\n        </div>\n    );\n};\n\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}